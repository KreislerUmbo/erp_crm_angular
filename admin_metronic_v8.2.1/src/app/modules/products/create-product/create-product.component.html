<div id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 ">

    <!--begin::Toolbar container-->
    <div id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">



        <!--begin::Page title-->
        <div class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
            <!--begin::Title-->
            <h1 class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0">
                Registrar Producto
            </h1>
            <!--end::Title-->


        </div>
        <!--end::Page title-->
        <!--begin::Actions-->
        <div class="d-flex align-items-center gap-2 gap-lg-3">


        </div>
        <!--end::Actions-->
    </div>
    <!--end::Toolbar container-->
</div>
<span class="spinner-border spinner-border-sm align-middle ms-2" *ngIf="isLoading$ | async"></span>

<div id="kt_app_content" class="app-content  flex-column-fluid ">

    <!--begin::Content container-->
    <div id="kt_app_content_container" class="app-container  container-xxl ">
        <!--begin::Form-->
        <form id="kt_ecommerce_add_product_form"
            class="form d-flex flex-column flex-lg-row fv-plugins-bootstrap5 fv-plugins-framework"
            data-kt-redirect="/metronic8/demo1/apps/ecommerce/catalog/products.html">
            <!--begin::Aside column-->
            <div class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px mb-7 me-lg-10"
                data-select2-id="select2-data-132-4l53">
                <!--begin::Thumbnail settings-->
                <div class="card card-flush py-4">
                    <!--begin::Card header-->
                    <div class="card-header">
                        <!--begin::Card title-->
                        <div class="card-title">
                            <h2>Thumbnail</h2>
                        </div>
                        <!--end::Card title-->
                    </div>
                    <!--end::Card header-->

                    <!--begin::Card body-->
                    <div class="card-body text-center pt-0">
                        <!--begin::Image input-->
                        <div class="image-input image-input-empty image-input-outline image-input-placeholder mb-3"
                            [ngStyle]="{'background-image': 'url('+imagen_previsualiza+')'}" data-kt-image-input="true" id="customFile">
                            <!--begin::Preview existing avatar-->
                            <div class="image-input-wrapper w-150px h-150px"></div>
                            <!--end::Preview existing avatar-->

                            <!--begin::Label-->
                            <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                                data-kt-image-input-action="change" data-bs-toggle="tooltip" aria-label="Change avatar"
                                data-bs-original-title="Change avatar" data-kt-initialized="1">
                                <i class="ki-duotone ki-pencil fs-7"><span class="path1"></span><span
                                        class="path2"></span></i>
                                <!--begin::Inputs-->
                                <input type="file" id="customFile" accept=".png, .jpg, .jpeg"
                                    (change)="processFile($event)">
                                <input type="hidden" name="imagen_previsualiza">
                 <!--           <div *ngIf="imagen_previsualiza">
                                    <img [src]="imagen_previsualiza"  style="height: 100px;"  alt="">
                                </div>  -->
                                 <!--end::Inputs-->
                            </label>
                            <!--end::Label-->

                            <!--begin::Cancel-->
                            <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                                data-kt-image-input-action="cancel" data-bs-toggle="tooltip" aria-label="Cancel avatar"
                                data-bs-original-title="Cancel avatar" data-kt-initialized="1">
                                <i class="ki-duotone ki-cross fs-2"><span class="path1"></span><span
                                        class="path2"></span></i> </span>
                            <!--end::Cancel-->

                            <!--begin::Remove-->
                            <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                                data-kt-image-input-action="remove" data-bs-toggle="tooltip" aria-label="Remove avatar"
                                data-bs-original-title="Remove avatar" data-kt-initialized="1">
                                <i class="ki-duotone ki-cross fs-2"><span class="path1"></span><span
                                        class="path2"></span></i> </span>
                            <!--end::Remove-->
                        </div>
                        <!--end::Image input-->

                        <!--begin::Description-->
                        <div class="text-muted fs-7">Configure la imagen en miniatura del producto. Sólo se aceptan archivos de imagen *.png, *.jpg y *.jpeg</div>
                        <!--end::Description-->
                    </div>
                    <!--end::Card body-->
                </div>
                <!--end::Thumbnail settings-->
                <!--begin::Status-->
                <div class="card card-flush py-4" data-select2-id="select2-data-131-u7ga">
                    <!--begin::Card header-->
                    <div class="card-header">
                        <!--begin::Card title-->
                        <div class="card-title">
                            <h2>Status</h2>
                        </div>
                        <!--end::Card title-->

                        <!--begin::Card toolbar-->
                        <div class="card-toolbar">
                            <div class="rounded-circle w-15px h-15px bg-warning" id="kt_ecommerce_add_product_status">
                            </div>
                        </div>
                        <!--begin::Card toolbar-->
                    </div>
                    <!--end::Card header-->

                    <!--begin::Card body-->
                    <div class="card-body pt-0">
                        <!--begin::Select2-->
                        <select class="form-select mb-2" [(ngModel)]="state" name="state">
                            <option value="1">Publicado</option>
                            <option value="2">Inactivo</option>
                        </select>
                        <!--end::Select2-->

                        <!--begin::Description-->
                        <div class="text-muted fs-7">
                            Establecer el estado del producto.</div>
                        <!--end::Description-->
                    </div>
                    <!--end::Card body-->
                </div>
                <!--end::Status-->

                <!--begin::Template settings-->
                <div class="card card-flush py-4">
                    <!--begin::Card header-->
                    <div class="card-header">
                        <!--begin::Card title-->
                        <div class="card-title">
                            <h2>Categoría Producto</h2>
                        </div>
                        <!--end::Card title-->
                    </div>
                    <!--end::Card header-->

                    <!--begin::Card body-->
                    <div class="card-body pt-0">
                        <!--begin::Select store template-->
                        <label for="kt_ecommerce_add_product_store_template" class="form-label">Seleccione una
                            Categoría</label>
                        <!--end::Select store template-->

                        <!--begin::Select2-->
                        <select class="form-select mb-2" [(ngModel)]="product_categorie_id" name="product_categorie_id">
                            <ng-container *ngFor="let CATEGORIE of CATEGORIES">
                                <option [value]="CATEGORIE.id">{{CATEGORIE.name}}</option>
                            </ng-container>
                        </select>
                        <!--end::Select2-->

                        <!--begin::Description-->
                        <div class="text-muted fs-7">alguna inf importante</div>
                        <!--end::Description-->
                    </div>
                    <!--end::Card body-->
                </div>
                <!--end::Template settings-->
            </div>
            <!--end::Aside column-->

            <!--begin::Main column-->
            <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                <!--begin:::Tabs-->
                <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-n2"
                    role="tablist">
                    <!--begin:::Tab item-->
                    <li class="nav-item" role="presentation">
                        <a class="nav-link text-active-primary pb-4" [ngClass]="{active: tab_selected==1}"
                            data-bs-toggle="tab" href="#kt_ecommerce_add_product_general" onclick="return false;"
                            (click)="selectedTab(1)" aria-selected="true" role="tab">General</a>
                    </li>
                    <!--end:::Tab item-->

                    <!--begin:::Tab item-->
                    <li class="nav-item" role="presentation">
                        <a class="nav-link text-active-primary pb-4" [ngClass]="{active: tab_selected==2}"
                            data-bs-toggle="tab" href="#kt_ecommerce_add_product_advanced" onclick="return false;"
                            (click)="selectedTab(2)" aria-selected="false" tabindex="-1" role="tab">Advanced</a>
                    </li>
                    <!--end:::Tab item-->

                </ul>
                <!--end:::Tabs-->
                <!--begin::Tab content-->
                <div class="tab-content">
                    <!--begin::Tab pane-->
                    <div class="tab-pane fade" [ngClass]="{'show active': tab_selected==1}"
                        id="kt_ecommerce_add_product_general" role="tab-panel">
                        <div class="d-flex flex-column gap-7 gap-lg-10">

                            <!--begin::General options-->
                            <div class="card card-flush py-4">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>General</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">
                                    <!--begin::Input group-->
                                    <div class="mb-10 fv-row fv-plugins-icon-container">
                                        <!--begin::Label-->
                                        <label class="required form-label">Nombre del Producto</label>
                                        <!--end::Label-->

                                        <!--begin::Input-->
                                        <input type="text" [(ngModel)]="title" name="title" class="form-control mb-2"
                                            placeholder="Nombre del producto" value="">
                                        <!--end::Input-->

                                        <!--begin::Description-->
                                        <div class="text-muted fs-7">El nombre del producto es requerido.</div>
                                        <!--end::Description-->
                                        <div
                                            class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                        </div>
                                    </div>
                                    <!--end::Input group-->

                                    <!--begin::Input group-->
                                    <div>
                                        <!--begin::Label-->
                                        <label class="form-label">Descripción</label>
                                        <!--end::Label-->
                                        <div class="d-flex flex-column mb-8">
                                            <textarea class="form-control form-control-solid" rows="3"
                                                [(ngModel)]="description" name="description"
                                                placeholder="Detalle del Producto"></textarea>
                                        </div>
                                        <!--begin::Description-->
                                        <div class="text-muted fs-7">Descripción detallada del producto.</div>
                                        <!--end::Description-->
                                    </div>
                                    <!--end::Input group-->
                                </div>
                                <!--end::Card header-->
                            </div>
                            <!--end::General options-->

                            <!--begin::Pricing-->
                            <div class="card card-flush py-4">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>Adicionales</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">
                                    <!--begin::Input group-->
                                    <div class="mb-10 row fv-row">
                                        <div class="col-4">
                                            <!--begin::Label-->
                                            <label class="required form-label">Precio Base</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <input type="number" [(ngModel)]="price_general" name="price_general"
                                                class="form-control mb-2" placeholder="Precio Base del Producto"
                                                value="">
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">
                                                Set the product price.
                                            </div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-4">
                                            <label class="required form-label">Disponibilidad</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="disponibilidad"
                                                name="disponibilidad">
                                                <option value="1" selected="selected">Vender productos sin stock
                                                </option>
                                                <option value="2">NO vender los prodcutos sin stock</option>
                                                <option value="3">Proyectar con los contratos que se tenga</option>
                                            </select>

                                        </div>
                                        <div class="col-4">
                                            <label class="required form-label">Tiempo de Abastecimiento</label>
                                            <input type="number" [(ngModel)]="tiempo_de_abastecimiento"
                                                name="tiempo_de_abastecimiento" class="form-control mb-2"
                                                placeholder="Tiempo en Dias" value="">

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">
                                                Set the product price.
                                            </div>
                                            <!--end::Description-->
                                        </div>

                                        <div
                                            class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                        </div>
                                    </div>
                                    <!--end::Input group-->

                                    <!--begin::Input group-->
                                    <div class="fv-row mb-10">
                                        <!--begin::Label-->
                                        <label class="fs-6 fw-semibold mb-2">
                                            Tipo de Descuento
                                        </label>
                                        <!--End::Label-->

                                        <!--begin::Row-->
                                        <div class="row row-cols-1 row-cols-md-3 row-cols-lg-1 row-cols-xl-3 g-9"
                                            data-kt-buttons="true" data-kt-buttons-target="[data-kt-button='true']"
                                            data-kt-initialized="1">
                                            <!--begin::Col-->
                                            <div class="col">
                                                <!--begin::Option-->
                                                <label
                                                    class="btn btn-outline btn-outline-dashed btn-active-light-primary d-flex text-start p-6"
                                                    [ngClass]="{active: is_descount==1}" data-kt-button="true">
                                                    <!--begin::Radio-->
                                                    <span
                                                        class="form-check form-check-custom form-check-solid form-check-sm align-items-start mt-1">
                                                        <input class="form-check-input" type="radio"
                                                            name="discount_option" (click)="selectedDiscount(1)"
                                                            checked="checked">
                                                    </span>
                                                    <!--end::Radio-->

                                                    <!--begin::Info-->
                                                    <span class="ms-5">
                                                        <span class="fs-4 fw-bold text-gray-800 d-block">Sin
                                                            Descuento</span>
                                                    </span>
                                                    <!--end::Info-->
                                                </label>
                                                <!--end::Option-->
                                            </div>
                                            <!--end::Col-->

                                            <!--begin::Col-->
                                            <div class="col">
                                                <!--begin::Option-->
                                                <label
                                                    class="btn btn-outline btn-outline-dashed btn-active-light-primary  d-flex text-start p-6"
                                                    [ngClass]="{active: is_descount==2}" data-kt-button="true">
                                                    <!--begin::Radio-->
                                                    <span
                                                        class="form-check form-check-custom form-check-solid form-check-sm align-items-start mt-1">
                                                        <input class="form-check-input" type="radio"
                                                            name="discount_option" (click)="selectedDiscount(2)">
                                                    </span>
                                                    <!--end::Radio-->

                                                    <!--begin::Info-->
                                                    <span class="ms-5">
                                                        <span class="fs-4 fw-bold text-gray-800 d-block">Porcentaje
                                                            %</span>
                                                    </span>
                                                    <!--end::Info-->
                                                </label>
                                                <!--end::Option-->
                                            </div>
                                            <!--end::Col-->
                                        </div>
                                        <!--end::Row-->
                                    </div>
                                    <!--end::Input group-->

                                    <!--begin::Input group-->
                                    <div class="mb-10 row fv-row" *ngIf="is_descount==2"
                                        id="kt_ecommerce_add_product_discount_fixed">
                                        <div class="col-4">
                                            <label class="form-label">Descuento Minimo</label>
                                            <input type="number" [(ngModel)]="min_descuento" name="min_descuento"
                                                class="form-control mb-2" placeholder="Descuento Minimo">

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">otras indicaciones</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-4">
                                            <label class="form-label">Descuento Máximo</label>
                                            <input type="number" [(ngModel)]="max_descuento" name="max_descuento"
                                                class="form-control mb-2" placeholder="Descuento Máximo">

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">otras indicaciones</div>
                                            <!--end::Description-->
                                        </div>

                                    </div>
                                    <!--end::Input group-->
                                    <div class="card-title py-2">
                                        <h2>impuestoss</h2>
                                    </div>
                                    <!--begin::Tax-->
                                    <div class="d-flex flex-wrap gap-5">
                                        <!--begin::Input group-->
                                        <div class="fv-row w-100 flex-md-root fv-plugins-icon-container">
                                            <!--begin::Label-->
                                            <label class="required form-label">Clase de impuesto</label>
                                            <!--end::Label-->

                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="tax_selected"
                                                name="tax_selected">
                                                <option data-select2-id="select2-data-17-625e"></option>
                                                <option value="0">Libre de impuestos</option>
                                                <option value="1">Bienes sujetos a impuestos</option>
                                                <option value="2">Producto descargable</option>
                                            </select>
                                            <!--end::Select2-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Establecer la clase de impuesto del producto.
                                            </div>
                                            <!--end::Description-->
                                            <div
                                                class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                            </div>
                                        </div>
                                        <!--end::Input group-->

                                        <!--begin::Input group-->
                                        <div class="fv-row w-100 flex-md-root">
                                            <!--begin::Label-->
                                            <label class="form-label">
                                                Importe del IGV (%)</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <input type="text" [(ngModel)]="importe_iva" name="importe_iva"
                                                class="form-control mb-2" value="">
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Establecer el IGV del producto sobre.</div>
                                            <!--end::Description-->
                                        </div>
                                        <!--end::Input group-->
                                    </div>
                                    <!--end:Tax-->
                                </div>
                                <!--end::Card header-->
                            </div>
                            <!--end::Pricing-->
                        </div>
                    </div>
                    <!--end::Tab pane-->

                    <!--begin::Tab pane-->
                    <div class="tab-pane fade" [ngClass]="{'show active': tab_selected==2}"
                        id="kt_ecommerce_add_product_advanced" role="tab-panel">
                        <div class="d-flex flex-column gap-7 gap-lg-10">

                            <!--begin::Inventory-->
                            <div class="card card-flush py-4">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>Inventario</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">
                                    <!--begin::Input group-->
                                    <div class="mb-10 fv-row row">
                                        <div class="col-6">
                                            <!--begin::Label-->
                                            <label class="required form-label">SKU</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <input type="text" [(ngModel)]="sku" name="sku" class="form-control mb-2"
                                                placeholder="SKU Number" value="">
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Enter the product SKU.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-6">
                                            <!--begin::Label-->
                                            <label class="form-label">Es Gratuito</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <div class="form-check form-check-custom form-check-solid mb-2">
                                                <input type="checkbox" (click)="isGratuito()" class="form-check-input"
                                                    value="">
                                                <label class="form-check-label">
                                                    Si
                                                </label>
                                            </div>
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Es posible que el producto tenga costo cero(0).
                                            </div>
                                            <!--end::Description-->
                                        </div>
                                        <div
                                            class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                        </div>
                                    </div>
                                    <!--end::Input group-->


                                    <!--begin::Input group-->
                                    <div class="mb-10 fv-row row">
                                        <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="required form-label">Unidad Umbral</label>
                                            <!--end::Label-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="umbral_unit_id"
                                                name="umbral_unit_id">
                                                <ng-container *ngFor="let UNIT of UNITS">
                                                    <option [value]="UNIT.id">{{UNIT.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Defina una medida.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="required form-label">Umbral</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <input type="text" [(ngModel)]="umbral" name="umbral"
                                                class="form-control mb-2" placeholder="Cantidad Minima para Alertar"
                                                value="">
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">La cantidad minima para avisarte.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-6">
                                            <!--begin::Label-->
                                            <label class="required form-label">Código de Barras</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <input type="text" [(ngModel)]="barcode" name="barcode"
                                                class="form-control mb-2" placeholder="Código de barras" value="">
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Enter the product barcode number.</div>
                                            <!--end::Description-->
                                        </div>
                                    </div>
                                    <!--end::Input group-->
                                </div>
                                <!--end::Card header-->
                            </div>
                            <!--end::Inventory-->
                            <!--begin::Asignacion Cant unid-->
                            <div class="card card-flush py-3">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>Asignacion de Cantidad de Unidades a los Almacenes</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">
                                    <!--begin::Input group-->
                                    <div class="mb-10 fv-row mt-8 row">
                                        <div class="col-4">
                                            <label class="required form-label">Unidades</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="unit_warehouse"
                                                name="unit_warehouse">
                                                <ng-container *ngFor="let UNIT of UNITS">
                                                    <option [value]="UNIT.id">{{UNIT.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Defina una Unidad.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-4">
                                            <label class="required form-label">Almacenes</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="almacen_warehouse"
                                                name="almacen_warehouse">
                                                <ng-container *ngFor="let WAREHOUSE of WAREHOUSES">
                                                    <option [value]="WAREHOUSE.id">{{WAREHOUSE.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Defina un Almacen.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="required form-label">Cantidad</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <div class="d-flex gap-3">
                                                <input type="number" [(ngModel)]="cant_warehouse" name="cant_warehouse"
                                                    class="form-control mb-2" placeholder="En el alamcen" value="">
                                            </div>
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Cantidad de productoss.</div>
                                            <!--end::Description-->
                                            <div
                                                class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                            </div>
                                        </div>
                                        <div class="col-1">
                                            <label class="required form-label ">Agregar</label>
                                            <button class="btn btn-primary btn-sm" (click)="addwarehouse()">+</button>
                                        </div>
                                    </div>
                                    <!--end::Input group-->

                                    <!--begin::Tabla group-->
                                    <div class="mb-10 fv-row mt-8 row">
                                        <div class="col-12">
                                            <div class="table-responsive">
                                                <table
                                                    class="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3">
                                                    <thead>
                                                        <tr class="fw-bold text-muted">
                                                            <th class="">UNIDAD</th>
                                                            <th class="">ALAMACÉN</th>
                                                            <th class="">CANTIDAD</th>
                                                            <th class="">ACCIÓN</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <ng-container
                                                            *ngFor="let WAREHOUSES_PROD of WAREHOUSES_PRODUCT">
                                                            <tr>
                                                                <!--<td>
                                                                <div class="form-check form-check-sm form-check-custom form-check-solid">
                                                                   <input class="form-check-input widget-13-check" type="checkbox" value="1">
                                                                </div>
                                                             </td>-->

                                                                <td>
                                                                    <a href="#"
                                                                        class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6">{{WAREHOUSES_PROD.unit.name}}</a>
                                                                    <!--                                                                     <span
                                                                        class="text-muted fw-semibold text-muted d-block fs-7">Code:
                                                                        PH</span> -->
                                                                </td>

                                                                <!--<td>
                                                                <a href="#" class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6">Intertico</a>
                                                                <span class="text-muted fw-semibold text-muted d-block fs-7">Web, UI/UX Design</span>
                                                             </td>-->

                                                                <td
                                                                    class="text-gray-900 fw-bold text-hover-primary fs-6">
                                                                    {{WAREHOUSES_PROD.warehouse.name}}
                                                                </td>
                                                                <td>
                                                                    <!-- <span class="badge badge-light-success">Approved</span> -->
                                                                    {{WAREHOUSES_PROD.quantity}}
                                                                </td>
                                                                <td class="">

                                                                    <!--                  <a href="#"
                                                                        class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1">
                                                                        <i class="ki-duotone ki-pencil fs-2"><span
                                                                                class="path1"></span><span
                                                                                class="path2"></span></i>
                                                                    </a> -->

                                                                    <a href="#" onclick="return false"
                                                                        (click)="removeWarehouse(WAREHOUSES_PROD)"
                                                                        class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm">
                                                                        <i class="ki-duotone ki-trash fs-2"><span
                                                                                class="path1"></span><span
                                                                                class="path2"></span><span
                                                                                class="path3"></span><span
                                                                                class="path4"></span><span
                                                                                class="path5"></span></i>
                                                                    </a>

                                                                </td>
                                                            </tr>
                                                        </ng-container>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <!--begin::Tabla group-->
                                </div>
                                <!--end::Card body-->
                            </div>
                            <!--end::Asignacion Cant unid-->

                            <!--begin::Price Multiple-->
                            <div class="card card-flush py-4">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>Asignar  Multiples Precios a los Sucursales x Tipo de Cliente</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">

                                    <!--begin::Input group-->
                                    <div class="mb-10 fv-row mt-8 row">
                                        <div class="col-3">
                                            <label class="required form-label">Unidad</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="unit_precio_multiple"
                                                name="unit_precio_multiple">
                                                <ng-container *ngFor="let UNIT of UNITS">
                                                    <option [value]="UNIT.id">{{UNIT.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Defina una Unidad.</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-3">
                                            <label class="required form-label">Sucursales</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="sucursale_precio_multiple"
                                                name="sucursale_precio_multiple">
                                                <ng-container *ngFor="let SUCURSALE of SUCURSALES">
                                                    <option [value]="SUCURSALE.id">{{SUCURSALE.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">seleccione una sucursal</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-3">
                                            <label class="required form-label">Segmento Cliente</label>
                                            <!--begin::Input-->
                                            <!--begin::Select2-->
                                            <select class="form-select mb-2" [(ngModel)]="segmentclient_precio_multiple"
                                                name="segmentclient_precio_multiple">
                                                <ng-container *ngFor="let CLIENT_SEGMENT of CLIENT_SEGMENTS">
                                                    <option [value]="CLIENT_SEGMENT.id">{{CLIENT_SEGMENT.name}}</option>
                                                </ng-container>
                                            </select>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">seleccione una sucursal</div>
                                            <!--end::Description-->
                                        </div>
                                        <div class="col-2">
                                            <!--begin::Label-->
                                            <label class="required form-label">Precio</label>
                                            <!--end::Label-->

                                            <!--begin::Input-->
                                            <div class="d-flex gap-3">
                                                <input type="number" [(ngModel)]="precio_multiple"
                                                    name="precio_multiple" class="form-control mb-2" placeholder="0.00"
                                                    value="">
                                            </div>
                                            <!--end::Input-->

                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Agregar precio.</div>
                                            <!--end::Description-->
                                            <div
                                                class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback">
                                            </div>
                                        </div>
                                        <div class="col-1">
                                            <label class="required form-label">Add</label>
                                            <button class="btn btn-primary btn-sm"
                                                (click)="addMultipleprecio()">+</button>
                                        </div>
                                    </div>
                                    <!--end::Input group-->

                                    <!--begin::Tabla group-->
                                    <div class="mb-10 fv-row mt-8 row">
                                        <div class="col-12">
                                            <div class="table-responsive">
                                                <table
                                                    class="table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3">
                                                    <thead>
                                                        <tr class="fw-bold text-muted">
                                                            <th class="">UNIDAD</th>
                                                            <th class="">SUCURSAL</th>
                                                            <th class="">TIPO CLIENTE</th>
                                                            <th class="">PRECIO</th>
                                                            <th class="">ACCIÓN</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <ng-container *ngFor="let WALLET_PRODUCT of WALLET_PRODUCTS">
                                                            <tr>
                                                                <!--<td>
                                                                <div class="form-check form-check-sm form-check-custom form-check-solid">
                                                                   <input class="form-check-input widget-13-check" type="checkbox" value="1">
                                                                </div>
                                                             </td>-->

                                                                <td>
                                                                    <a href="#"
                                                                        class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6">{{WALLET_PRODUCT.unit.name}}</a>
                                                                    <!--                                                                 <span
                                                                        class="text-muted fw-semibold text-muted d-block fs-7">Code:
                                                                        PH</span> -->
                                                                </td>

                                                                <!--<td>
                                                                <a href="#" class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6">Intertico</a>
                                                                <span class="text-muted fw-semibold text-muted d-block fs-7">Web, UI/UX Design</span>
                                                             </td>-->

                                                                <td
                                                                    class="text-gray-900 fw-bold text-hover-primary fs-6">
                                                                    {{WALLET_PRODUCT.sucursale ?
                                                                    WALLET_PRODUCT.sucursale.name:'---'}}
                                                                </td>
                                                                <td>
                                                                    <a href="#"
                                                                        class="text-gray-900 fw-bold text-hover-primary d-block mb-1 fs-6">{{WALLET_PRODUCT.client_segment
                                                                        ? WALLET_PRODUCT.client_segment.name:'---'}}</a>
                                                                </td>
                                                                <td>
                                                                    <!-- <span class="badge badge-light-success">Approved</span> -->
                                                                    {{WALLET_PRODUCT.precio}} PEN
                                                                </td>
                                                                <td class="">

                                                                    <!--                                                                     <a href="#"
                                                                        class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1">
                                                                        <i class="ki-duotone ki-pencil fs-2"><span
                                                                                class="path1"></span><span
                                                                                class="path2"></span></i> </a> -->

                                                                    <a href="#" onclick="return false"
                                                                        (click)="removeMultiple_precio(WALLET_PRODUCT)"
                                                                        class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm">
                                                                        <i class="ki-duotone ki-trash fs-2"><span
                                                                                class="path1"></span><span
                                                                                class="path2"></span><span
                                                                                class="path3"></span><span
                                                                                class="path4"></span><span
                                                                                class="path5"></span></i> </a>

                                                                </td>
                                                            </tr>
                                                        </ng-container>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <!--begin::Tabla group-->

                                </div>
                                <!--end::Card header-->
                            </div>
                            <!--end::Precio Multiple-->

                            <!--begin::Shipping-->
                            <div class="card card-flush py-4">
                                <!--begin::Card header-->
                                <div class="card-header">
                                    <div class="card-title">
                                        <h2>Especificar Dimensiones del Producto</h2>
                                    </div>
                                </div>
                                <!--end::Card header-->

                                <!--begin::Card body-->
                                <div class="card-body pt-0">
                                    <!--begin::Shipping form-->
                                    <div id="kt_ecommerce_add_product_shipping" class="">
                                        <!--begin::Input group-->
                                        <div class="fv-row row">
                                            <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="form-label">Peso</label>
                                            <!--end::Label-->

                                            <!--begin::Editor-->
                                            <input type="text" [(ngModel)]="peso" name="peso" class="form-control mb-2"
                                                placeholder="Product weight" value="">
                                            <!--end::Editor-->
                                            </div>
                                            <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="form-label">Ancho</label>
                                            <!--end::Label-->
                                            <input type="number" [(ngModel)]="ancho" name="ancho"
                                            class="form-control mb-2" placeholder="Ancho (w)" value="">
                                            </div>

                                            <div class="col-3">
                                             <!--begin::Label-->
                                            <label class="form-label">Alto</label>
                                            <!--end::Label-->
                                                <input type="number" [(ngModel)]="alto" name="alto"
                                                class="form-control mb-2" placeholder="Alto (h)" value="">
                                            </div>

                                            <div class="col-3">
                                            <!--begin::Label-->
                                            <label class="form-label">Largo</label>
                                            <!--end::Label-->
                                                <input type="number" [(ngModel)]="largo" name="largo"
                                                class="form-control mb-2" placeholder="Longitud (l)" value="">
                                            </div>
                                            <!--begin::Description-->
                                            <div class="text-muted fs-7">Introduce las dimensiones del producto en(cm)
                                            </div>
                                            <!--end::Description-->
                                        </div>
                                        <!--end::Input group-->
                                    </div>
                                    <!--end::Shipping form-->
                                </div>
                                <!--end::Card header-->
                            </div>
                            <!--end::Price Multiple-->


                        </div>
                    </div>
                    <!--end::Tab pane-->

                </div>
                <!--end::Tab content-->

                <div class="d-flex justify-content-end">
                    <!--begin::Button-->
                    <a href="/metronic8/demo1/apps/ecommerce/catalog/products.html" id="kt_ecommerce_add_product_cancel"
                        class="btn btn-light me-5">
                        Cancel
                    </a>
                    <!--end::Button-->

                    <!--begin::Button-->
                    <button type="button" (click)="store()" id="kt_ecommerce_add_product_submit"
                        class="btn btn-primary">
                        <span class="indicator-label">
                            Save Changes
                        </span>
                        <span class="indicator-progress">
                            Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                        </span>
                    </button>
                    <!--end::Button-->
                </div>
            </div>
            <!--end::Main column-->
        </form>
        <!--end::Form-->
    </div>
    <!--end::Content container-->
</div>